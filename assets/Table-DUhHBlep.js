import{d as D,e as o,g as I,j as N,r,c as V,o as f,f as n,a as s,w as l,k as _,b as p,t as d,_ as L}from"./index-F3rkAykQ.js";const M={class:""},R={class:"w-[60px] flex items-center justify-button"},A=`
  <path class="path" d="
    M 30 15
    L 28 17
    M 25.61 25.61
    A 15 15, 0, 0, 1, 15 30
    A 15 15, 0, 1, 1, 27.99 7.5
    L 15 15
  " style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>
`,O=D({__name:"Table",setup(J){const v=o([]),y=o([{label:"日期",prop:"date",width:180,align:"left",solt:"dateTemp",type:"date",editable:!0},{label:"姓名",prop:"name",width:180,align:"center",solt:"nameTemp"},{label:"班级",prop:"class",align:"center",width:180,type:"select",useDict:!0,editable:!0,options:[{label:"物理171",value:"0"},{label:"物理172",value:"1"},{label:"数学171",value:"2"},{label:"数学172",value:"3"}]},{label:"电话",prop:"tel",align:"center",editable:!0},{label:"地址",prop:"address",align:"center",editable:!0},{label:"操作",actionable:!0,width:140}]),c=o(!0),i=o(-1),g=o(1),m=I({pageSize:5,total:100,pageSizes:[5,10],layout:"total, sizes, prev, pager, next, jumper"}),w=o({text:"正在加载中...",spinner:A,background:"rgba(0, 0, 0, 0.8)",svgViewBox:"-10 -10 50 50"});N(()=>{C()});const C=()=>{c.value=!0,fetch("/api/table/list",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:g.value,pageSize:m.pageSize})}).then(t=>t.json()).then(t=>{c.value=!1,t.code===200&&(v.value=t.data)})},x=t=>{m.pageSize=t.pageSize,C()},k=(t,e)=>{console.log("点击编辑按钮",e),i.value=e},z=(t,e)=>{console.log(t),i.value=-1},S=t=>{console.log("onRowConfirm",t)},T=t=>{console.log(t)};return(t,e)=>{const u=r("el-button"),E=r("el-icon-calendar"),h=r("el-tag"),j=r("el-popover"),B=r("ti-table");return f(),V("div",M,[e[5]||(e[5]=n("h5",null,"功能",-1)),e[6]||(e[6]=n("p",null,"1、可配置性、可维护性强",-1)),e[7]||(e[7]=n("p",null,"2、具备element-plus 表格所有功能",-1)),e[8]||(e[8]=n("p",null,"3、可扩展性强",-1)),s(B,{border:"",loading:c.value,loadingConfig:w.value,data:v.value,options:y.value,rowEditable:"",rowEditIndex:i.value,onConfirm:S,pageConfig:m,currentPage:g.value,"onUpdate:currentPage":e[0]||(e[0]=a=>g.value=a),onPageChange:x,onCancel:T},{editCell:l(({row:a})=>[n("div",R,[s(u,{size:"small"},{default:l(()=>[...e[1]||(e[1]=[p("取消",-1)])]),_:1}),s(u,{size:"small",type:"primary"},{default:l(()=>[...e[2]||(e[2]=[p("确认",-1)])]),_:1})])]),dateTemp:l(({row:a})=>[s(E,{class:"font-[12px] mr-4"}),n("span",null,d(a.date),1)]),nameTemp:l(({row:a})=>[s(j,{trigger:"hover",placement:"top",width:"auto"},{default:l(()=>[n("p",null,"姓名："+d(a.name),1),n("p",null,"日期："+d(a.date),1),n("p",null,"地址："+d(a.address),1)]),reference:l(()=>[s(h,{class:"cursor-pointer"},{default:l(()=>[p(d(a.name),1)]),_:2},1024)]),_:2},1024)]),action:l(({row:a,$index:b})=>[i.value===-1||b!==i.value?(f(),_(u,{key:0,type:"primary",size:"mini",onClick:P=>k(a,b)},{default:l(()=>[...e[3]||(e[3]=[p("编辑",-1)])]),_:1},8,["onClick"])):(f(),_(u,{key:1,type:"danger",size:"mini",onClick:P=>z(a,b)},{default:l(()=>[...e[4]||(e[4]=[p("取消",-1)])]),_:1},8,["onClick"]))]),_:1},8,["loading","loadingConfig","data","options","rowEditIndex","pageConfig","currentPage"])])}}}),q=L(O,[["__scopeId","data-v-14447a4a"]]);export{q as default};
