import{d as E,e as d,g as h,E as g,a as l,h as n,r as b,c as j,o as T,f as i,w as t,u,b as a,i as y}from"./index-aZScMxPg.js";const R={class:""},P=E({__name:"DynamicForm",setup(U){const m=d(null);d(null);const p=d(!1),v=h([{type:"input",value:"456",label:"用户名",prop:"username",rules:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:10,message:"用户名长度应在2-10位之间",trigger:"blur"}],placeholder:"请输入用户名"},{type:"input",value:"123",label:"密码",prop:"password",rules:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"密码位数在6-15位之间",trigger:"blur"}],placeholder:"请输入密码",attrs:{clearable:!0,showPassword:!0}},{type:"select",value:["beijing","shanghai"],label:"城市",prop:"city",attrs:{clearable:!0,multiple:!0,styles:{width:"100px"}},rules:[{required:!0,message:"请选择城市",trigger:"change"}],placeholder:"请选择城市",children:[{type:"option",value:"beijing",label:"北京"},{type:"option",value:"shanghai",label:"上海"}]},{type:"radio-group",value:"shanghai",label:"城市",prop:"lesson",rules:[{required:!0,message:"请选择国家",trigger:"change"}],children:[{type:"radio",value:"beijing",label:"北京"},{type:"radio",value:"shanghai",label:"上海"}]},{type:"checkbox-group",value:["chinese"],label:"课程",prop:"country",rules:[{required:!0,message:"请选择课程",trigger:"change"}],children:[{type:"checkbox",value:"chinese",label:"中文"},{type:"checkbox",value:"math",label:"数学"},{type:"checkbox",value:"english",label:"英语"}]},{type:"upload",label:"文件上传",prop:"pic",slots:[{name:"uploadArea",render:()=>l(n,{type:"primary"},{default:()=>"上传文件"})},{name:"uploadTip",render:()=>l("div",{class:"text-[#ccc] font-[12px]"},{default:()=>"jpg/png files with a size less than 500KB."})}],uploadAttrs:{action:"https://jsonplaceholder.typicode.com/posts/",multiple:!0,listType:"picture-card",autoUpload:!0,limit:3,fileList:[],headers:{},method:"post",data:{},name:"file",withCredentials:!0,showFileList:!0,drag:!0,accept:"image/*",thumbnailModel:!0},uploadFuns:{onSuccess:(o,e,r)=>{console.log("onSuccess"),console.log(o,e,r)},onRemove:(o,e,r)=>{console.log("onRemove"),console.log(o,e,r)},onProgress:(o,e)=>{console.log("onProgress"),console.log(o,e)},onError:(o,e)=>{console.log("onError"),console.log(o,e)},onChange:o=>{console.log("onChange"),console.log(o)},onExceed:(o,e)=>{console.log("onExceed"),console.log(o,e),g.alert("当前限制选择 3 个文件，请删除后上传","提示",{confirmButtonText:"确定",type:"warning"})},onBeforeRemove:(o,e)=>(console.log("onBeforeRemove"),g.confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log(o,e),console.log("删除成功")}).catch(()=>{console.log("取消删除")})),onBeforeUpload:o=>{console.log("onBeforeUpload"),console.log(o)}},rules:[{required:!0,message:"请上传文件",trigger:"blur"}]},{type:"editor",value:"123",label:"富文本",prop:"my-wang-editor",placeholder:"请填写内容",rules:[{required:!0,message:"请填写内容",trigger:"blur"}],attrs:{placeholder:"请填写内容",style:{height:"200px"}}}]),f=(o,e)=>{o.validate().then(()=>{console.log(e)}).catch(()=>{console.log("验证失败")})},x=()=>{m.value.resetFields()},w=()=>{p.value=!0},B=h([{type:"input",value:"456",label:"用户名",prop:"username",rules:[{required:!0,message:"请输入用户名",trigger:"change"},{min:2,max:10,message:"用户名长度应在2-10位之间",trigger:"change"}],placeholder:"请输入用户名"},{type:"input",value:"123",label:"密码",prop:"password",rules:[{required:!0,message:"请输入密码",trigger:"change"},{min:6,max:15,message:"密码位数在6-15位之间",trigger:"change"}],placeholder:"请输入密码",attrs:{clearable:!0,showPassword:!0}},{type:"select",value:["beijing","shanghai"],label:"城市",prop:"city",attrs:{clearable:!0,multiple:!0,styles:{width:"100px"}},rules:[{required:!0,message:"请选择城市",trigger:"change"}],placeholder:"请选择城市",children:[{type:"option",value:"beijing",label:"北京"},{type:"option",value:"shanghai",label:"上海"}]},{type:"radio-group",value:"shanghai",label:"城市",prop:"lesson",rules:[{required:!0,message:"请选择国家",trigger:"change"}],children:[{type:"radio",value:"beijing",label:"北京"},{type:"radio",value:"shanghai",label:"上海"}]},{type:"checkbox-group",value:["chinese"],label:"课程",prop:"country",rules:[{required:!0,message:"请选择课程",trigger:"change"}],children:[{type:"checkbox",value:"chinese",label:"中文"},{type:"checkbox",value:"math",label:"数学"},{type:"checkbox",value:"english",label:"英语"}]},{type:"upload",label:"文件上传",prop:"pic",slots:[{name:"uploadArea",render:()=>l(n,{type:"primary"},{default:()=>"上传文件"})},{name:"uploadTip",render:()=>l("div",{class:"text-[#ccc] font-[12px]"},{default:()=>"jpg/png files with a size less than 500KB."})}],uploadAttrs:{action:"https://jsonplaceholder.typicode.com/posts/",multiple:!0,listType:"picture-card",autoUpload:!0,limit:3,fileList:[],headers:{},method:"post",data:{},name:"file",withCredentials:!0,showFileList:!0,drag:!0,accept:"image/*",thumbnailModel:!0},uploadFuns:{onSuccess:(o,e,r)=>{console.log("onSuccess"),console.log(o,e,r)},onRemove:(o,e,r)=>{console.log("onRemove"),console.log(o,e,r)},onProgress:(o,e)=>{console.log("onProgress"),console.log(o,e)},onError:(o,e)=>{console.log("onError"),console.log(o,e)},onChange:o=>{console.log("onChange"),console.log(o)},onExceed:(o,e)=>{console.log("onExceed"),console.log(o,e),g.alert("当前限制选择 3 个文件，请删除后上传","提示",{confirmButtonText:"确定",type:"warning"})},onBeforeRemove:(o,e)=>(console.log("onBeforeRemove"),g.confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{console.log(o,e),console.log("删除成功")}).catch(()=>{console.log("取消删除")})),onBeforeUpload:o=>{console.log("onBeforeUpload"),console.log(o)}},rules:[{required:!0,message:"请上传文件",trigger:"blur"}]},{type:"editor",value:"123",label:"富文本",prop:"my-dy-wang-editor",placeholder:"请填写内容",rules:[{required:!0,message:"请填写内容",trigger:"blur"}],attrs:{placeholder:"请填写内容",style:{height:"200px"}}}]),k=o=>{o.validate().then(()=>{o.getFormData(),y.success("验证成功"),p.value=!1,o.resetFields()}).catch(()=>{y.error("验证失败")})},C=o=>{o.resetFields()};return(o,e)=>{const r=b("ti-form"),F=b("ti-modal-form");return T(),j("div",R,[e[9]||(e[9]=i("h4",null,"1、普通动态表单",-1)),e[10]||(e[10]=i("p",null,"1.1、可配置型的表单，可以通过json对象的方式自动生成表单项",-1)),e[11]||(e[11]=i("p",null,"1.2、具备：表单验证、动态删减表单项、集成第三方插件",-1)),e[12]||(e[12]=i("p",null,"1.3、可应用于更多的场景",-1)),l(r,{options:v,ref_key:"dynamicForm",ref:m},{footer:t(({form:s,model:c})=>[l(u(n),{type:"primary",onClick:q=>f(s,c)},{default:t(()=>[...e[3]||(e[3]=[a("提交",-1)])]),_:1},8,["onClick"]),l(u(n),{onClick:e[0]||(e[0]=q=>x())},{default:t(()=>[...e[4]||(e[4]=[a("重置",-1)])]),_:1})]),_:1},8,["options"]),e[13]||(e[13]=i("h4",null,"2、弹出层动态表单",-1)),l(u(n),{onClick:e[1]||(e[1]=s=>w())},{default:t(()=>[...e[5]||(e[5]=[a("open form",-1)])]),_:1}),l(F,{visible:p.value,"onUpdate:visible":e[2]||(e[2]=s=>p.value=s),"label-width":"150px",autoScroll:"",options:B,width:"60%"},{title:t(()=>[...e[6]||(e[6]=[a(" 编辑表单 ",-1)])]),footer:t(({form:s})=>[l(u(n),{type:"primary",onClick:c=>k(s)},{default:t(()=>[...e[7]||(e[7]=[a("提交",-1)])]),_:1},8,["onClick"]),l(u(n),{onClick:c=>C(s)},{default:t(()=>[...e[8]||(e[8]=[a("重置",-1)])]),_:1},8,["onClick"])]),_:1},8,["visible","options"])])}}});export{P as default};
